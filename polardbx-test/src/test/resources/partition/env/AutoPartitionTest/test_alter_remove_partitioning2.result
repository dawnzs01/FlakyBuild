DROP TABLE IF EXISTS t1;
CREATE TABLE `t1` (
	`id` int(11) NOT NULL AUTO_INCREMENT,
	`c1` int(11) DEFAULT NULL,
	PRIMARY KEY USING BTREE (`id`),
	KEY `idx2` USING BTREE (`c1`),
	KEY `idx1` USING BTREE (`c1`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY (`id`);
SHOW CREATE TABLE t1;
Table,Create Table
t1,CREATE TABLE `t1` (
	`id` int(11) NOT NULL AUTO_INCREMENT,
	`c1` int(11) DEFAULT NULL,
	PRIMARY KEY USING BTREE (`id`),
	KEY `idx2` USING BTREE (`c1`),
	KEY `idx1` USING BTREE (`c1`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`id`)
PARTITIONS 3
ALTER TABLE t1
	REMOVE PARTITIONING;
SHOW CREATE TABLE t1;
Table,Create Table
t1,CREATE TABLE `t1` (
	`id` int(11) NOT NULL AUTO_INCREMENT,
	`c1` int(11) DEFAULT NULL,
	PRIMARY KEY USING BTREE (`id`),
	INDEX `idx1` (`c1`),
	INDEX `idx2` (`c1`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
SHOW FULL CREATE TABLE t1;
Table,Create Table
t1,CREATE PARTITION TABLE `t1` (
	`id` int(11) NOT NULL AUTO_INCREMENT,
	`c1` int(11) DEFAULT NULL,
	PRIMARY KEY USING BTREE (`id`),
	GLOBAL INDEX /* idx1_$ */ `idx1` (`c1`) PARTITION BY KEY (`c1`, `id`) PARTITIONS 3,
	GLOBAL INDEX /* idx2_$ */ `idx2` (`c1`) PARTITION BY KEY (`c1`, `id`) PARTITIONS 3,
	LOCAL KEY `_local_idx2` USING BTREE (`c1`),
	LOCAL KEY `_local_idx1` USING BTREE (`c1`)
) ENGINE = InnoDB DEFAULT CHARSET = utf8mb4
PARTITION BY KEY(`id`)
PARTITIONS 3
/* tablegroup = `tg` */